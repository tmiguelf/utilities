// Copyright 2018 Ulf Adams
//
// The contents of this file may be used under the terms of the Apache License,
// Version 2.0.
//
//    (See accompanying file LICENSE-Apache or copy at
//     http://www.apache.org/licenses/LICENSE-2.0)
//
// Alternatively, the contents of this file may be used under the terms of
// the Boost Software License, Version 1.0.
//    (See accompanying file LICENSE-Boost or copy at
//     https://www.boost.org/LICENSE_1_0.txt)
//
// Unless required by applicable law or agreed to in writing, this software
// is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
// KIND, either express or implied.
//
// Modified by: Tiago Freire

#pragma once
#include <cstdint>
#include <array>
#include <CoreLib/Core_Type.hpp>

using ::core::literals::operator "" _ui64;
using ::core::literals::operator "" _ui16;

// This table is generated by PrintFloatLookupTable.
constexpr uint16_t FLOAT_POW5_INV_BITCOUNT = 59_ui16;
constexpr uint16_t FLOAT_POW5_BITCOUNT = 61_ui16;

static const std::array<uint64_t, 55> FLOAT_POW5_INV_SPLIT
{
  576460752303423489_ui64,  461168601842738791_ui64,  368934881474191033_ui64,  295147905179352826_ui64,
  472236648286964522_ui64,  377789318629571618_ui64,  302231454903657294_ui64,  483570327845851670_ui64,
  386856262276681336_ui64,  309485009821345069_ui64,  495176015714152110_ui64,  396140812571321688_ui64,
  316912650057057351_ui64,  507060240091291761_ui64,  405648192073033409_ui64,  324518553658426727_ui64,
  519229685853482763_ui64,  415383748682786211_ui64,  332306998946228969_ui64,  531691198313966350_ui64,
  425352958651173080_ui64,  340282366920938464_ui64,  544451787073501542_ui64,  435561429658801234_ui64,
  348449143727040987_ui64,  557518629963265579_ui64,  446014903970612463_ui64,  356811923176489971_ui64,
  570899077082383953_ui64,  456719261665907162_ui64,  365375409332725730_ui64,  292300327466180584_ui64,
  467680523945888934_ui64,  374144419156711148_ui64,  299315535325368918_ui64,  478904856520590269_ui64,
  383123885216472215_ui64,  306499108173177772_ui64,  490398573077084435_ui64,  392318858461667548_ui64,
  313855086769334039_ui64,  502168138830934462_ui64,  401734511064747569_ui64,  321387608851798056_ui64,
  514220174162876889_ui64,  411376139330301511_ui64,  329100911464241209_ui64,  526561458342785934_ui64,
  421249166674228747_ui64,  336999333339382998_ui64,  539198933343012796_ui64,  431359146674410237_ui64,
  345087317339528190_ui64,  552139707743245103_ui64,  441711766194596083_ui64
};

static const std::array<uint64_t, 47> FLOAT_POW5_SPLIT
{
  1152921504606846976_ui64, 1441151880758558720_ui64, 1801439850948198400_ui64, 2251799813685248000_ui64,
  1407374883553280000_ui64, 1759218604441600000_ui64, 2199023255552000000_ui64, 1374389534720000000_ui64,
  1717986918400000000_ui64, 2147483648000000000_ui64, 1342177280000000000_ui64, 1677721600000000000_ui64,
  2097152000000000000_ui64, 1310720000000000000_ui64, 1638400000000000000_ui64, 2048000000000000000_ui64,
  1280000000000000000_ui64, 1600000000000000000_ui64, 2000000000000000000_ui64, 1250000000000000000_ui64,
  1562500000000000000_ui64, 1953125000000000000_ui64, 1220703125000000000_ui64, 1525878906250000000_ui64,
  1907348632812500000_ui64, 1192092895507812500_ui64, 1490116119384765625_ui64, 1862645149230957031_ui64,
  1164153218269348144_ui64, 1455191522836685180_ui64, 1818989403545856475_ui64, 2273736754432320594_ui64,
  1421085471520200371_ui64, 1776356839400250464_ui64, 2220446049250313080_ui64, 1387778780781445675_ui64,
  1734723475976807094_ui64, 2168404344971008868_ui64, 1355252715606880542_ui64, 1694065894508600678_ui64,
  2117582368135750847_ui64, 1323488980084844279_ui64, 1654361225106055349_ui64, 2067951531382569187_ui64,
  1292469707114105741_ui64, 1615587133892632177_ui64, 2019483917365790221_ui64
};
